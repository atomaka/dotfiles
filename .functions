function g {
  if [[ $# > 0 ]]; then
    git $@
  else
    git status
  fi
}
compdef g=git

insert-sudo() {
  zle beginning-of-line
  zle -U "sudo "
}

function port-forward {
  ssh $1 -R $2":localhost:"$2 -g
}

function map-sshfs {
  if [ $# -eq 0 ]; then
    echo Usage: map-sshfs HOST DIRECTORY MOUNT
  else
    sshfs -o idmap=user -o workaround=rename $USER'@'$1':'$2 $HOME'/Mounts/'$3
  fi
}
